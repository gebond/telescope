<!doctype html>

<html lang="en" style="background: #f5f5f5;">
    <head>

        <meta charset="utf-8">
        <title>Telescope</title>
        <meta name="description" content="telescope">

        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="shortcut icon" type="image/png" href="/../file/png/favicon"/>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

        <link rel="stylesheet" href="/../css/normalize.css">
        <script type="text/javascript" src="../js/api.js"></script>

        <style type="text/css">

        .div-login {
            padding-top: 24px;
            width: 300px;
            font-size: 1em;
            font-family: sans-serif;
            height: 130px;
            color: #497799;
            font-weight: bold;
            text-align: center;
            background: #ffffff;
        }

        .center-v-h {
            position: absolute;
            margin: auto;
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
        }

        </style>

    </head>

    <body>
        <div class = "div-login center-v-h">
           <span>Sign in Telescop</span>
           <input id="login-field"type="name" placeholder="Your name" name="" style="padding: 5px;margin: 40px 4px;"></input>
           <input id="login-button" type="button" name="" style="padding: 6px;margin: 40px 4px;
            background:  #497799; color: white;border: none;display: inline-block;" value="Sign in"></input>
        </div>
        <script>
            document.getElementById("login-button").onclick = function() {
                $.get('http://localhost:5000/rest/login',
                    { username:  document.getElementById("login-field").value }, function(data) {
                        console.log(data.payload);
                        localStorage.setItem('userId', data.payload.user_id);
                        window.location.replace('/../');
                    });
            }
        </script>
    </body>
</html>